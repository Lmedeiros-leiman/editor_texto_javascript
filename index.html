<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title>teste editor alta perfomance</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <link rel="stylesheet" href="css.css">

  <meta name="theme-color" content="#fafafa">
</head>
<body>
  <div class="editor_texto">
     <section class="menu_ferramentas">
         <div class="editor_letra">
             <button class="negrito" onclick="negrito()" ><i class="bi bi-type-bold"></i></button>
             <button class="italico" onclick="italico()"><i class="bi bi-type-italic"></i></button>
             <button class="sublinhado"><i class="bi bi-type-underline"></i></button>
             <button class="tachado"><i class="bi bi-type-strikethrough"></i></button>
             <button class="subescrito"><i class="bi bi-superscript"></i></button>
             <button class="sobescrito"><i class="bi bi-subscript"></i></button>



         </div>
         <div class="listar">
             <button class="listar_ordenado"><i class="bi bi-list-ol"></i></button>
             <button class="listar"><i class="bi bi-list-ul"></i></button>
         </div>
         <div class="justificar">
             <button class="esquerda"><i class="bi bi-text-left"></i></button>
             <button class="centro"><i class="bi bi-text-center"></i></button>
            <button class="direita"><i class="bi bi-text-right"></i></button>
         </div>
         <div>
             <button class="indentar"><i class="bi bi-text-indent-left"></i></button>
             <button class="desindentar"><i class="bi bi-text-indent-right"></i></button>
         </div>

         <div class="comandos">
             <button class="desfazer"><i class="bi bi-arrow-counterclockwise"></i></button>
             <button class="refazer"><i class="bi bi-arrow-clockwise"></i></button>
             <button class="colocar_link"><i class="bi bi-link"></i></button>

         </div>


     </section>

      <section contenteditable="true" class="area_editavel">



      </section>
  </div>




</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>

<script>

let editores = document.querySelectorAll(".editor_texto");



function negrito() {
    const palavra = document.getSelection();

    if (palavra.rangeCount > 0) {
        const selecao = palavra.getRangeAt(0);

        let estaemnegrito = false;
        let containerpai = selecao.commonAncestorContainer;
        while (containerpai && containerpai.tagName !== 'BODY') {
            if (containerpai.tagName === 'STRONG') {
                estaemnegrito = true;
                break;
            }
            containerpai = containerpai.parentNode;
        }
        console.log(selecao);
        console.log("ta em negrito?: ", estaemnegrito);

        if (estaemnegrito)
        // removemos o negrito
        {



        }
        // deixamos em negrito
        else {
            let elementonegrito = document.createElement("strong");
            elementonegrito.textContent = palavra.toString();
            selecao.deleteContents();
            selecao.insertNode(elementonegrito);
            palavra.removeAllRanges();
            palavra.addRange(selecao);
        }

        // deixa o conteudo em negrito...

        //



    }
}








</script>

</html>
